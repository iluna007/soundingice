import{r,j as p}from"./react-rRunGLgB.js";import{s as Z,c as K,o as we,a as W,l as q,b as ee}from"./dom-helpers-Cqtc25sf.js";import{R as Me}from"./react-dom-7db8FyN0.js";const Ce=["as","disabled"];function Oe(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)>=0)continue;t[o]=e[o]}return t}function ke(e){return!e||e.trim()==="#"}function je({tagName:e,disabled:n,href:t,target:o,rel:s,role:i,onClick:d,tabIndex:u=0,type:c}){e||(t!=null||o!=null||s!=null?e="a":e="button");const a={tagName:e};if(e==="button")return[{type:c||"button",disabled:n},a];const m=l=>{if((n||e==="a"&&ke(t))&&l.preventDefault(),n){l.stopPropagation();return}d==null||d(l)},g=l=>{l.key===" "&&(l.preventDefault(),m(l))};return e==="a"&&(t||(t="#"),n&&(t=void 0)),[{role:i??"button",disabled:void 0,tabIndex:n?void 0:u,href:t,target:e==="a"?o:void 0,"aria-disabled":n||void 0,rel:e==="a"?s:void 0,onClick:m,onKeyDown:g},a]}const Te=r.forwardRef((e,n)=>{let{as:t,disabled:o}=e,s=Oe(e,Ce);const[i,{tagName:d}]=je(Object.assign({tagName:t,disabled:o},s));return p.jsx(d,Object.assign({},s,i,{ref:n}))});Te.displayName="Button";const Be=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",De=typeof document<"u",$e=De||Be?r.useLayoutEffect:r.useEffect,H=new WeakMap,ne=(e,n)=>{if(!e||!n)return;const t=H.get(n)||new Map;H.set(n,t);let o=t.get(e);return o||(o=n.matchMedia(e),o.refCount=0,t.set(o.media,o)),o};function Le(e,n=typeof window>"u"?void 0:window){const t=ne(e,n),[o,s]=r.useState(()=>t?t.matches:!1);return $e(()=>{let i=ne(e,n);if(!i)return s(!1);let d=H.get(n);const u=()=>{s(i.matches)};return i.refCount++,i.addListener(u),u(),()=>{i.removeListener(u),i.refCount--,i.refCount<=0&&(d==null||d.delete(i.media)),i=void 0}},[e]),o}function Fe(e){const n=Object.keys(e);function t(u,c){return u===c?c:u?`${u} and ${c}`:c}function o(u){return n[Math.min(n.indexOf(u)+1,n.length-1)]}function s(u){const c=o(u);let a=e[c];return typeof a=="number"?a=`${a-.2}px`:a=`calc(${a} - 0.2px)`,`(max-width: ${a})`}function i(u){let c=e[u];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function d(u,c,a){let m;typeof u=="object"?(m=u,a=c,c=!0):(c=c||!0,m={[u]:c});let g=r.useMemo(()=>Object.entries(m).reduce((l,[v,E])=>((E==="up"||E===!0)&&(l=t(l,i(v))),(E==="down"||E===!0)&&(l=t(l,s(v))),l),""),[JSON.stringify(m)]);return Le(g,a)}return d}const hn=Fe({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Pe(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e},[e]),n}function pn(e){const n=Pe(e);return r.useCallback(function(...t){return n.current&&n.current(...t)},[n])}function Se(){const e=r.useRef(!0),n=r.useRef(()=>e.current);return r.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),n.current}function We(e){const n=r.useRef(e);return n.current=e,n}function Ae(e){const n=We(e);r.useEffect(()=>()=>n.current(),[])}function Ie(e){const n=r.useRef(null);return r.useEffect(()=>{n.current=e}),n.current}function He(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e},[e]),n}function b(e){const n=He(e);return r.useCallback(function(...t){return n.current&&n.current(...t)},[n])}const Ke="data-rr-ui-";function Ne(e){return`${Ke}${e}`}function Ue(e=document){const n=e.defaultView;return Math.abs(n.innerWidth-e.documentElement.clientWidth)}const te=Ne("modal-open");class ue{constructor({ownerDocument:n,handleContainerOverflow:t=!0,isRTL:o=!1}={}){this.handleContainerOverflow=t,this.isRTL=o,this.modals=[],this.ownerDocument=n}getScrollbarWidth(){return Ue(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(n){}removeModalAttributes(n){}setContainerStyle(n){const t={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();n.style={overflow:s.style.overflow,[o]:s.style[o]},n.scrollBarWidth&&(t[o]=`${parseInt(Z(s,o)||"0",10)+n.scrollBarWidth}px`),s.setAttribute(te,""),Z(s,t)}reset(){[...this.modals].forEach(n=>this.remove(n))}removeContainerStyle(n){const t=this.getElement();t.removeAttribute(te),Object.assign(t.style,n.style)}add(n){let t=this.modals.indexOf(n);return t!==-1||(t=this.modals.length,this.modals.push(n),this.setModalAttributes(n),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(n){const t=this.modals.indexOf(n);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(n))}isTopModal(n){return!!this.modals.length&&this.modals[this.modals.length-1]===n}}const ce=r.createContext(K?window:void 0);ce.Provider;function N(){return r.useContext(ce)}const A=(e,n)=>K?e==null?(n||we()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function _e(e,n){const t=N(),[o,s]=r.useState(()=>A(e,t==null?void 0:t.document));if(!o){const i=A(e);i&&s(i)}return r.useEffect(()=>{},[n,o]),r.useEffect(()=>{const i=A(e);i!==o&&s(i)},[e,o]),o}const oe=e=>!e||typeof e=="function"?e:n=>{e.current=n};function Qe(e,n){const t=oe(e),o=oe(n);return s=>{t&&t(s),o&&o(s)}}function U(e,n){return r.useMemo(()=>Qe(e,n),[e,n])}const Ge=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ze=typeof document<"u",re=ze||Ge?r.useLayoutEffect:r.useEffect;function Je(e){return e.code==="Escape"||e.keyCode===27}function Xe(){const e=r.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function _(e){if(!e||typeof e=="function")return null;const{major:n}=Xe();return n>=19?e.props.ref:e.ref}function Ve({children:e,in:n,onExited:t,mountOnEnter:o,unmountOnExit:s}){const i=r.useRef(null),d=r.useRef(n),u=b(t);r.useEffect(()=>{n?d.current=!0:u(i.current)},[n,u]);const c=U(i,_(e)),a=r.cloneElement(e,{ref:c});return n?a:s||!d.current&&o?null:a}const Ye=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Ze(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)>=0)continue;t[o]=e[o]}return t}function qe(e){let{onEnter:n,onEntering:t,onEntered:o,onExit:s,onExiting:i,onExited:d,addEndListener:u,children:c}=e,a=Ze(e,Ye);const m=r.useRef(null),g=U(m,_(c)),l=x=>y=>{x&&m.current&&x(m.current,y)},v=r.useCallback(l(n),[n]),E=r.useCallback(l(t),[t]),k=r.useCallback(l(o),[o]),j=r.useCallback(l(s),[s]),T=r.useCallback(l(i),[i]),B=r.useCallback(l(d),[d]),w=r.useCallback(l(u),[u]);return Object.assign({},a,{nodeRef:m},n&&{onEnter:v},t&&{onEntering:E},o&&{onEntered:k},s&&{onExit:j},i&&{onExiting:T},d&&{onExited:B},u&&{addEndListener:w},{children:typeof c=="function"?(x,y)=>c(x,Object.assign({},y,{ref:g})):r.cloneElement(c,{ref:g})})}const en=["component"];function nn(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)>=0)continue;t[o]=e[o]}return t}const tn=r.forwardRef((e,n)=>{let{component:t}=e,o=nn(e,en);const s=qe(o);return p.jsx(t,Object.assign({ref:n},s))});function on({in:e,onTransition:n}){const t=r.useRef(null),o=r.useRef(!0),s=b(n);return re(()=>{if(!t.current)return;let i=!1;return s({in:e,element:t.current,initial:o.current,isStale:()=>i}),()=>{i=!0}},[e,s]),re(()=>(o.current=!1,()=>{o.current=!0}),[]),t}function rn({children:e,in:n,onExited:t,onEntered:o,transition:s}){const[i,d]=r.useState(!n);n&&i&&d(!1);const u=on({in:!!n,onTransition:a=>{const m=()=>{a.isStale()||(a.in?o==null||o(a.element,a.initial):(d(!0),t==null||t(a.element)))};Promise.resolve(s(a)).then(m,g=>{throw a.in||d(!0),g})}}),c=U(u,_(e));return i&&!n?null:r.cloneElement(e,{ref:c})}function se(e,n,t){return e?p.jsx(tn,Object.assign({},t,{component:e})):n?p.jsx(rn,Object.assign({},t,{transition:n})):p.jsx(Ve,Object.assign({},t))}const sn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function un(e,n){if(e==null)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(n.indexOf(o)>=0)continue;t[o]=e[o]}return t}let I;function cn(e){return I||(I=new ue({ownerDocument:e==null?void 0:e.document})),I}function an(e){const n=N(),t=e||cn(n),o=r.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>t.add(o.current),remove:()=>t.remove(o.current),isTopModal:()=>t.isTopModal(o.current),setDialogRef:r.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:r.useCallback(s=>{o.current.backdrop=s},[])})}const ae=r.forwardRef((e,n)=>{let{show:t=!1,role:o="dialog",className:s,style:i,children:d,backdrop:u=!0,keyboard:c=!0,onBackdropClick:a,onEscapeKeyDown:m,transition:g,runTransition:l,backdropTransition:v,runBackdropTransition:E,autoFocus:k=!0,enforceFocus:j=!0,restoreFocus:T=!0,restoreFocusOptions:B,renderDialog:w,renderBackdrop:x=f=>p.jsx("div",Object.assign({},f)),manager:y,container:le,onShow:Q,onHide:G=()=>{},onExit:de,onExited:z,onExiting:fe,onEnter:me,onEntering:he,onEntered:pe}=e,ge=un(e,sn);const R=N(),M=_e(le),h=an(y),Ee=Se(),be=Ie(t),[D,J]=r.useState(!t),C=r.useRef(null);r.useImperativeHandle(n,()=>h,[h]),K&&!be&&t&&(C.current=W(R==null?void 0:R.document)),t&&D&&J(!1);const X=b(()=>{if(h.add(),F.current=q(document,"keydown",Re),L.current=q(document,"focus",()=>setTimeout(ve),!0),Q&&Q(),k){var f,Y;const S=W((f=(Y=h.dialog)==null?void 0:Y.ownerDocument)!=null?f:R==null?void 0:R.document);h.dialog&&S&&!ee(h.dialog,S)&&(C.current=S,h.dialog.focus())}}),$=b(()=>{if(h.remove(),F.current==null||F.current(),L.current==null||L.current(),T){var f;(f=C.current)==null||f.focus==null||f.focus(B),C.current=null}});r.useEffect(()=>{!t||!M||X()},[t,M,X]),r.useEffect(()=>{D&&$()},[D,$]),Ae(()=>{$()});const ve=b(()=>{if(!j||!Ee()||!h.isTopModal())return;const f=W(R==null?void 0:R.document);h.dialog&&f&&!ee(h.dialog,f)&&h.dialog.focus()}),xe=b(f=>{f.target===f.currentTarget&&(a==null||a(f),u===!0&&G())}),Re=b(f=>{c&&Je(f)&&h.isTopModal()&&(m==null||m(f),f.defaultPrevented||G())}),L=r.useRef(),F=r.useRef(),ye=(...f)=>{J(!0),z==null||z(...f)};if(!M)return null;const V=Object.assign({role:o,ref:h.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},ge,{style:i,className:s,tabIndex:-1});let P=w?w(V):p.jsx("div",Object.assign({},V,{children:r.cloneElement(d,{role:"document"})}));P=se(g,l,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:de,onExiting:fe,onExited:ye,onEnter:me,onEntering:he,onEntered:pe,children:P});let O=null;return u&&(O=x({ref:h.setBackdropRef,onClick:xe}),O=se(v,E,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O})),p.jsx(p.Fragment,{children:Me.createPortal(p.jsxs(p.Fragment,{children:[O,P]}),M)})});ae.displayName="Modal";const gn=Object.assign(ae,{Manager:ue}),ie=e=>!e||typeof e=="function"?e:n=>{e.current=n};function ln(e,n){const t=ie(e),o=ie(n);return s=>{t&&t(s),o&&o(s)}}function En(e,n){return r.useMemo(()=>ln(e,n),[e,n])}export{gn as B,ue as M,En as a,pn as b,hn as c,_ as g,je as u};
