import{c as m}from"./classnames-ELZfJkp_.js";import{r,j as i,R as X}from"./react-rRunGLgB.js";import{u as ga,a as pa,g as Y,b as q,M as Ea,c as Na,B as Ra}from"./@restart-cUimx4aO.js";import{T as Ca,E as U,a as $,b as Ta}from"./react-transition-group-Ci-xmXQq.js";import{t as xa,s as O,d as ya,q as R,r as va}from"./dom-helpers-Cqtc25sf.js";import{R as Oa}from"./react-dom-7db8FyN0.js";import{P as S}from"./prop-types-CYoxX0Ds.js";const Ba=["xxl","xl","lg","md","sm","xs"],ja="xs",z=r.createContext({prefixes:{},breakpoints:Ba,minBreakpoint:ja}),{Consumer:qa,Provider:Ua}=z;function T(a,e){const{prefixes:t}=r.useContext(z);return a||t[e]||e}const ba=r.forwardRef(({as:a,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:n=!1,className:f,...l},d)=>{const c=T(e,"btn"),[E,{tagName:g}]=ga({tagName:a,disabled:n,...l}),x=g;return i.jsx(x,{...E,...l,ref:d,disabled:n,className:m(f,c,o&&"active",t&&`${c}-${t}`,s&&`${c}-${s}`,l.href&&n&&"disabled")})});ba.displayName="Button";function V(a,e){const t=O(a,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function J(a,e){const t=V(a,"transitionDuration"),s=V(a,"transitionDelay"),o=xa(a,n=>{n.target===a&&(o(),e(n))},t+s)}function wa(a){a.offsetHeight}function ka(a){return a&&"setState"in a?Oa.findDOMNode(a):a??null}const Q=X.forwardRef(({onEnter:a,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:n,addEndListener:f,children:l,childRef:d,...c},E)=>{const g=r.useRef(null),x=pa(g,d),y=p=>{x(ka(p))},h=p=>N=>{p&&g.current&&p(g.current,N)},B=r.useCallback(h(a),[a]),j=r.useCallback(h(e),[e]),b=r.useCallback(h(t),[t]),w=r.useCallback(h(s),[s]),k=r.useCallback(h(o),[o]),L=r.useCallback(h(n),[n]),v=r.useCallback(h(f),[f]);return i.jsx(Ca,{ref:E,...c,onEnter:B,onEntered:b,onEntering:j,onExit:w,onExited:L,onExiting:k,addEndListener:v,nodeRef:g,children:typeof l=="function"?(p,N)=>l(p,{...N,ref:y}):X.cloneElement(l,{ref:y})})}),La={[$]:"show",[U]:"show"},Z=r.forwardRef(({className:a,children:e,transitionClasses:t={},onEnter:s,...o},n)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},l=r.useCallback((d,c)=>{wa(d),s==null||s(d,c)},[s]);return i.jsx(Q,{ref:n,addEndListener:J,...f,onEnter:l,childRef:Y(e),children:(d,c)=>r.cloneElement(e,{...c,className:m("fade",a,e.props.className,La[d],t[d])})})});Z.displayName="Fade";const P=r.forwardRef(({className:a,bsPrefix:e,as:t="div",...s},o)=>(e=T(e,"offcanvas-body"),i.jsx(t,{ref:o,className:m(a,e),...s})));P.displayName="OffcanvasBody";const Ma={[$]:"show",[U]:"show"},aa=r.forwardRef(({bsPrefix:a,className:e,children:t,in:s=!1,mountOnEnter:o=!1,unmountOnExit:n=!1,appear:f=!1,...l},d)=>(a=T(a,"offcanvas"),i.jsx(Q,{ref:d,addEndListener:J,in:s,mountOnEnter:o,unmountOnExit:n,appear:f,...l,childRef:Y(t),children:(c,E)=>r.cloneElement(t,{...E,className:m(e,t.props.className,(c===$||c===Ta)&&`${a}-toggling`,Ma[c])})})));aa.displayName="OffcanvasToggling";const ea=r.createContext({onHide(){}}),Aa={"aria-label":S.string,onClick:S.func,variant:S.oneOf(["white"])},I=r.forwardRef(({className:a,variant:e,"aria-label":t="Close",...s},o)=>i.jsx("button",{ref:o,type:"button",className:m("btn-close",e&&`btn-close-${e}`,a),"aria-label":t,...s}));I.displayName="CloseButton";I.propTypes=Aa;const Da=r.forwardRef(({closeLabel:a="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...n},f)=>{const l=r.useContext(ea),d=q(()=>{l==null||l.onHide(),s==null||s()});return i.jsxs("div",{ref:f,...n,children:[o,t&&i.jsx(I,{"aria-label":a,variant:e,onClick:d})]})}),ta=r.forwardRef(({bsPrefix:a,className:e,closeLabel:t="Close",closeButton:s=!1,...o},n)=>(a=T(a,"offcanvas-header"),i.jsx(Da,{ref:n,...o,className:m(e,a),closeLabel:t,closeButton:s})));ta.displayName="OffcanvasHeader";const Sa=a=>r.forwardRef((e,t)=>i.jsx("div",{...e,ref:t,className:m(e.className,a)})),Fa=Sa("h5"),sa=r.forwardRef(({className:a,bsPrefix:e,as:t=Fa,...s},o)=>(e=T(e,"offcanvas-title"),i.jsx(t,{ref:o,className:m(a,e),...s})));sa.displayName="OffcanvasTitle";const C={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class na extends Ea{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,O(t,{[e]:`${parseFloat(O(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],O(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(ya(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";R(t,C.FIXED_CONTENT).forEach(n=>this.adjustAndStore(s,n,e.scrollBarWidth)),R(t,C.STICKY_CONTENT).forEach(n=>this.adjustAndStore(o,n,-e.scrollBarWidth)),R(t,C.NAVBAR_TOGGLER).forEach(n=>this.adjustAndStore(o,n,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();va(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";R(t,C.FIXED_CONTENT).forEach(n=>this.restore(s,n)),R(t,C.STICKY_CONTENT).forEach(n=>this.restore(o,n)),R(t,C.NAVBAR_TOGGLER).forEach(n=>this.restore(o,n))}}let F;function $a(a){return F||(F=new na(a)),F}function Ia(a){return i.jsx(aa,{...a})}function _a(a){return i.jsx(Z,{...a})}const oa=r.forwardRef(({bsPrefix:a,className:e,children:t,"aria-labelledby":s,placement:o="start",responsive:n,show:f=!1,backdrop:l=!0,keyboard:d=!0,scroll:c=!1,onEscapeKeyDown:E,onShow:g,onHide:x,container:y,autoFocus:h=!0,enforceFocus:B=!0,restoreFocus:j=!0,restoreFocusOptions:b,onEntered:w,onExit:k,onExiting:L,onEnter:v,onEntering:p,onExited:N,backdropClassName:_,manager:H,renderStaticNode:ra=!1,...ia},la)=>{const M=r.useRef();a=T(a,"offcanvas");const[G,ca]=r.useState(!1),A=q(x),K=Na(n||"xs","up");r.useEffect(()=>{ca(n?f&&!K:f)},[f,n,K]);const da=r.useMemo(()=>({onHide:A}),[A]);function fa(){return H||(c?(M.current||(M.current=new na({handleContainerOverflow:!1})),M.current):$a())}const ua=(u,...D)=>{u&&(u.style.visibility="visible"),v==null||v(u,...D)},ma=(u,...D)=>{u&&(u.style.visibility=""),N==null||N(...D)},ha=r.useCallback(u=>i.jsx("div",{...u,className:m(`${a}-backdrop`,_)}),[_,a]),W=u=>i.jsx("div",{...u,...ia,className:m(e,n?`${a}-${n}`:a,`${a}-${o}`),"aria-labelledby":s,children:t});return i.jsxs(i.Fragment,{children:[!G&&(n||ra)&&W({}),i.jsx(ea.Provider,{value:da,children:i.jsx(Ra,{show:G,ref:la,backdrop:l,container:y,keyboard:d,autoFocus:h,enforceFocus:B&&!c,restoreFocus:j,restoreFocusOptions:b,onEscapeKeyDown:E,onShow:g,onHide:A,onEnter:ua,onEntering:p,onEntered:w,onExit:k,onExiting:L,onExited:ma,manager:fa(),transition:Ia,backdropTransition:_a,renderBackdrop:ha,renderDialog:W})})]})});oa.displayName="Offcanvas";const za=Object.assign(oa,{Body:P,Header:ta,Title:sa});export{ba as B,za as O};
